import{q as $,u as b,r as t,K as r}from"./index-VUWRmG3B.js";import{T as m,A as v}from"./swal-Op3Jh1cP.js";var _={VITE_URL:"https://freyja-g4ow.onrender.com",BASE_URL:"/side-project-booking/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i}=_,V=$("roomStore",()=>{const p=b(),f=t("create"),P=t([{title:"市景",isProvide:!0},{title:"獨立衛浴",isProvide:!0},{title:"客廳",isProvide:!0},{title:"書房",isProvide:!0},{title:"樓層電梯",isProvide:!0}]),y=t(["一張大床","兩張大床","三張大床"]),R={name:"",description:"",imageUrl:"",imageUrlList:[],areaInfo:"",bedInfo:"",maxPeople:0,price:0,facilityInfo:[{title:"平面電視",isProvide:!0},{title:"吹風機",isProvide:!0},{title:"冰箱",isProvide:!0},{title:"熱水壺",isProvide:!0},{title:"檯燈",isProvide:!0},{title:"衣櫃",isProvide:!0},{title:"除濕機",isProvide:!0},{title:"浴缸",isProvide:!0},{title:"書桌",isProvide:!0},{title:"音響",isProvide:!0}],amenityInfo:[{title:"衛生紙",isProvide:!0},{title:"拖鞋",isProvide:!0},{title:"沐浴用品",isProvide:!0},{title:"清潔用品",isProvide:!0},{title:"刮鬍刀",isProvide:!0},{title:"吊衣架",isProvide:!0},{title:"浴巾",isProvide:!0},{title:"刷牙用品",isProvide:!0},{title:"罐裝水",isProvide:!0},{title:"梳子",isProvide:!0}]},c=t(null),h=async()=>{try{const o=`${i}/api/v1/rooms/`,e=await r.get(o);c.value=e.data.result}catch{}},g=t(null),M=async()=>{try{const o=`${i}/api/v1/rooms/${p.params.id}`,e=await r.get(o);g.value=e.data.result}catch{}},w=async()=>{try{const e=await r.get("/api/abc873693/2804e64324eaaf26515281710e1792df/raw/a1e1fc17d04b47c564bbd9dba0d59a6a325ec7c1/taiwan_districts.json");console.log("取得縣市資料",e)}catch(o){console.log("getTailwan 失敗",o)}},s=t({...R}),l=()=>{s.value={...R},s.value.imageUrlList=[]},n=async()=>{try{const o=`${i}/api/v1/admin/rooms/`,e=await r.get(o);c.value=e.data.result,console.log("getRooms 成功取得資料",c.value)}catch(o){console.log("getRooms 失敗",o)}},D=()=>{const o=`${i}/api/v1/admin/rooms/`;r.post(o,s.value).then(e=>{console.log("createRoom 已新增房型",e),m.fire({icon:"success",title:"成功新增房型"}),l(),n()}).catch(e=>{console.log("createRoom 失敗",e),v.fire({icon:"errors",title:"房型新增失敗",text:"格式有誤，請稍後再試一次"})})},u=t(""),I=()=>{console.log("editRoom",u.value);const o=`${i}/api/v1/admin/rooms/${u.value}`;r.put(o,s.value).then(e=>{console.log("editRoomId 已更新房型",e),l(),m.fire({title:"更新成功",icon:"success"}),n()}).catch(e=>{v.fire({title:"更新失敗",text:"請稍後再試一次",icon:"error"}),console.log("editRoomId 失敗",e)})},T=()=>{const o=`${i}/api/v1/admin/rooms/${u.value}`;r.delete(o).then(e=>{console.log("deleteRoom 已刪除房型",e),m.fire({title:"成功刪除房型",icon:"success"}),n()}).catch(e=>{console.log(e),v.fire({title:"刪除失敗，請稍後再試一次",icon:"error"})})},a=t(!1),d=t(!1);return{updateRoomType:f,roomLayout:P,bedType:y,roomList:c,getFrontRooms:h,roomDetail:g,getFrontRoom:M,tempRoom:s,resetTempRoom:l,getRooms:n,createRoom:D,editRoomId:u,editRoom:I,deleteRoom:T,getTaiwan:w,showRoomModal:a,toogleModal:()=>{a.value=!a.value},openRoomModal:()=>{a.value=!0},closeRoomModal:()=>{a.value=!1,l()},showDelModal:d,openRoomDelModal:()=>{d.value=!0},closeRoomDelModal:()=>{d.value=!1,l()}}});export{V as u};
