import{q as D,r as s,K as o}from"./index-_3h-oLcu.js";import{T as d,A as N}from"./swal-szYjbNcO.js";var O={VITE_URL:"https://freyja-g4ow.onrender.com",BASE_URL:"/side-project-booking/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:l}=O,R=D("newsStore",()=>{const g={title:"",description:"",image:""},n=s(JSON.parse(JSON.stringify(g))),r=()=>{n.value=JSON.parse(JSON.stringify(g))},i=s(null),c=async()=>{try{console.log("getNews");const t=`${l}/api/v1/admin/news/`,e=await o.get(t);i.value=e.data.result,console.log("getNews 已取得",e)}catch(t){console.log("getNews 取得失敗",t)}},p=()=>{const t=`${l}/api/v1/admin/news/`;o.post(t,n.value).then(e=>{console.log(e),d.fire({icon:"success",title:`已新增 ${e.data.result.title}`}),c()}).catch(e=>{console.log(e),N.fire({icon:"error",title:"新增失敗，請稍後再試一次"})})},f=s(""),w=s(""),v=()=>{const t=`${l}/api/v1/admin/news/${w.value}`;o.put(t,n.value).then(e=>{console.log("editNews 已更新",e),d.fire({icon:"success",title:`${e.data.result.title} 已更新`}),c()}).catch(e=>{console.log("editNews 更新失敗",e),N.fire({icon:"error",title:"更新失敗，請稍後再試一次"})})},m=()=>{const t=`${l}/api/v1/admin/news/${w.value}`;o.delete(t).then(e=>{console.log("deleteNews 已刪除",e),d.fire({icon:"success",title:`已刪除 ${e.data.result.title}`}),c()}).catch(e=>{console.log("deleteNews 刪除失敗",e),N.fire({icon:"error",title:"刪除失敗，請稍後再試一次"})})},h=()=>{const t=`${l}/api/v1/home/news/`;o.get(t).then(e=>{console.log("getFrontNews 已取得消息",e),i.value=e.data.result}).catch(e=>{console.log("getFrontNews 失敗",e)})},$=async()=>{try{const t=`${l}/api/v1/news/`,e=await o.get(t);n.value=e.data.result,console.log("getFrontOneNews 已取得單一消息",e)}catch(t){console.log(t)}},a=s(!1),M=()=>{a.value=!0},S=()=>{a.value=!1,r()},y=()=>{a.value=!a.value},u=s(!1);return{tempNews:n,resetTempNews:r,newsList:i,getNews:c,createNews:p,updateNewsType:f,editNewsId:w,editNews:v,deleteNews:m,getFrontNews:h,getFrontOneNews:$,showNewsModal:a,openNewsModal:M,closeNewsModal:S,toogleModal:y,showDelModal:u,openNewsDelModal:()=>{u.value=!0},closeNewsDelModal:()=>{u.value=!1,r()}}});export{R as u};
