import{q as T,r as t,K as l}from"./index-6y3oVoyK.js";import{T as F,A as g}from"./swal-dnbtQsbR.js";var _={VITE_URL:"https://freyja-g4ow.onrender.com",BASE_URL:"/side-project-booking/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:s}=_,J=T("foodStore",()=>{const p={title:"",description:"",image:"",diningTime:""},a=t(JSON.parse(JSON.stringify(p))),r=()=>{a.value=JSON.parse(JSON.stringify(p))},d=t(null),c=async()=>{try{console.log("getFood");const e=`${s}/api/v1/admin/culinary/`,o=await l.get(e);d.value=o.data.result,console.log("getFoods 已取得",o)}catch(e){console.log("getFoods 取得失敗",e)}},f=()=>{const e=`${s}/api/v1/admin/culinary/`;l.post(e,a.value).then(o=>{console.log(o),F.fire({icon:"success",title:`已新增 ${o.data.result.title}`}),c()}).catch(o=>{console.log(o),g.fire({icon:"error",title:"新增失敗，請稍後再試一次"})})},v=t(""),i=t(""),m=()=>{const e=`${s}/api/v1/admin/culinary/${i.value}`;l.put(e,a.value).then(o=>{console.log("editFood 已更新",o),F.fire({icon:"success",title:`${o.data.result.title} 已更新`}),c()}).catch(o=>{console.log("editFood 更新失敗",o),g.fire({icon:"error",title:"更新失敗，請稍後再試一次"})})},h=()=>{const e=`${s}/api/v1/admin/culinary/${i.value}`;l.delete(e).then(o=>{console.log("deleteFood 已刪除",o),F.fire({icon:"success",title:`已刪除 ${o.data.result.title}`}),c()}).catch(o=>{console.log("deleteFood 刪除失敗",o),g.fire({icon:"error",title:"刪除失敗，請稍後再試一次"})})},y=()=>{const e=`${s}/api/v1/home/culinary/`;l.get(e).then(o=>{console.log("getFrontFoods 已取得美食",o),d.value=o.data.result}).catch(o=>{console.log("getFrontFoods 失敗",o)})},$=async()=>{try{const e=`${s}/api/v1/culinary/`,o=await l.get(e);a.value=o.data.result,console.log("getFrontFood 已取得單一美食",o)}catch(e){console.log(e)}},n=t(!1),M=()=>{n.value=!0},S=()=>{n.value=!1,r()},D=()=>{n.value=!n.value},u=t(!1);return{tempFood:a,resetTempFood:r,foodList:d,getFoods:c,createFood:f,updateFoodType:v,editFoodId:i,editFood:m,deleteFood:h,getFrontFoods:y,getFrontFood:$,showFoodModal:n,openFoodModal:M,closeFoodModal:S,toogleModal:D,showDelModal:u,openFoodDelModal:()=>{u.value=!0},closeFoodDelModal:()=>{u.value=!1,r()}}});export{J as u};
