import{q as w,u as F,r as t,K as r}from"./index-6y3oVoyK.js";import{T as v,A as R}from"./swal-dnbtQsbR.js";var L={VITE_URL:"https://freyja-g4ow.onrender.com",BASE_URL:"/side-project-booking/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:s}=L,J=w("roomStore",()=>{const p=F(),f=t("create"),P=t([{title:"市景",isProvide:!0},{title:"獨立衛浴",isProvide:!0},{title:"客廳",isProvide:!0},{title:"書房",isProvide:!0},{title:"樓層電梯",isProvide:!0}]),y=t(["一張大床","兩張大床","三張大床"]),g={name:"",description:"",imageUrl:"",imageUrlList:[],areaInfo:"",bedInfo:"",maxPeople:0,price:0,facilityInfo:[{title:"平面電視",isProvide:!0},{title:"吹風機",isProvide:!0},{title:"冰箱",isProvide:!0},{title:"熱水壺",isProvide:!0},{title:"檯燈",isProvide:!0},{title:"衣櫃",isProvide:!0},{title:"除濕機",isProvide:!0},{title:"浴缸",isProvide:!0},{title:"書桌",isProvide:!0},{title:"音響",isProvide:!0}],amenityInfo:[{title:"衛生紙",isProvide:!0},{title:"拖鞋",isProvide:!0},{title:"沐浴用品",isProvide:!0},{title:"清潔用品",isProvide:!0},{title:"刮鬍刀",isProvide:!0},{title:"吊衣架",isProvide:!0},{title:"浴巾",isProvide:!0},{title:"刷牙用品",isProvide:!0},{title:"罐裝水",isProvide:!0},{title:"梳子",isProvide:!0}]},i=t(null),h=async()=>{try{console.log("getFrontRooms 取得資料",i.value);const o=`${s}/api/v1/rooms/`,e=await r.get(o);i.value=e.data.result}catch(o){console.log("getFrontRooms 失敗",o)}},d=t(null),M=async()=>{try{console.log("getFrontRoom 取得資料",d.value);const o=`${s}/api/v1/rooms/${p.params.id}`,e=await r.get(o);d.value=e.data.result}catch(o){console.log("getFrontRoom 失敗",o)}},n=t(JSON.parse(JSON.stringify(g))),l=()=>{n.value=JSON.parse(JSON.stringify(g))},c=async()=>{try{const o=`${s}/api/v1/admin/rooms/`,e=await r.get(o);i.value=e.data.result,console.log("getRooms 成功取得資料",i.value)}catch(o){console.log("getRooms 失敗",o)}},S=()=>{const o=`${s}/api/v1/admin/rooms/`;r.post(o,n.value).then(e=>{console.log("createRoom 已新增房型",e),v.fire({icon:"success",title:"成功新增房型"}),l(),c()}).catch(e=>{console.log("createRoom 失敗",e),R.fire({icon:"errors",title:"房型新增失敗",text:"格式有誤，請稍後再試一次"})})},u=t(""),D=()=>{console.log("editRoom",u.value);const o=`${s}/api/v1/admin/rooms/${u.value}`;r.put(o,n.value).then(e=>{console.log("editRoomId 已更新房型",e),l(),v.fire({icon:"success",title:"更新成功"}),c()}).catch(e=>{console.log("editRoomId 失敗",e),R.fire({icon:"error",title:"更新失敗",text:"請稍後再試一次"})})},I=()=>{const o=`${s}/api/v1/admin/rooms/${u.value}`;r.delete(o).then(e=>{console.log("deleteRoom 已刪除房型",e),v.fire({icon:"success",title:"成功刪除房型"}),c()}).catch(e=>{console.log("deleteRoom 失敗",e),R.fire({title:"刪除失敗，請稍後再試一次",icon:"error"})})},a=t(!1),$=()=>{a.value=!0},T=()=>{a.value=!1,l()},_=()=>{a.value=!a.value},m=t(!1);return{roomLayout:P,bedType:y,tempRoom:n,resetTempRoom:l,roomList:i,getRooms:c,createRoom:S,updateRoomType:f,editRoomId:u,editRoom:D,deleteRoom:I,getFrontRooms:h,roomDetail:d,getFrontRoom:M,showRoomModal:a,openRoomModal:$,closeRoomModal:T,toogleModal:_,showDelModal:m,openRoomDelModal:()=>{m.value=!0},closeRoomDelModal:()=>{m.value=!1,l()}}});export{J as u};
