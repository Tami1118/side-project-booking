import{d as y,c as p,p as P,h as O,e as x,m as U,F as z,j as s,f as e,q as F,r as q,v as T,a as Y,x as K,y as k,s as $,b as B,t as c,g as h,z as I,k as D,u as Q,A as H,B as G,C as J,o as W}from"./index-z3ySx_ID.js";import{S as X,P as Z,a as ee}from"./pagination-IVNR15Ly.js";import{u as A,_ as te}from"./dateStore-HjSJQrsQ.js";import{u as se}from"./orderStore-gc7eWQFE.js";import{u as oe}from"./roomStore-wVNc3MzB.js";import"./RoomInfoBasic.vue_vue_type_script_setup_true_lang-Wy6dks3Z.js";import"./RoomInfoProvide.vue_vue_type_script_setup_true_lang-QDVI9YvK.js";import"./swal-MzZ19o4Z.js";const ne=["src"],ae=y({__name:"RoomDetailImageSwiper",props:["imageList"],setup(a){const t=a,o=[Z];return(r,i)=>(p(),P(s(X),{pagination:!0,modules:o,class:"room-list-swiper h-[250px] md:h-[500px] duration-300"},{default:O(()=>[(p(!0),x(z,null,U(t.imageList,u=>(p(),P(s(ee),{class:"h-full",key:u},{default:O(()=>[e("img",{src:u,class:"w-full h-full object-cover",alt:"Room Image"},null,8,ne)]),_:2},1024))),128))]),_:1}))}}),re={class:"flex gap-2 bg-white rounded-[16px] overflow-hidden"},ie={class:"basis-6/12"},le=["src"],ce={class:"basis-6/12"},de={class:"grid grid-cols-2 gap-2 h-full"},ue=["src"],me=["src"],pe=["src"],_e=["src"],fe=y({__name:"RoomDetailBanner",props:["imageList"],setup(a){const t=a;return(o,r)=>(p(),x("div",re,[e("div",ie,[e("img",{src:t.imageList[0],alt:"Room Image"},null,8,le)]),e("div",ce,[e("div",de,[e("div",null,[e("img",{class:"h-full w-full object-cover",src:t.imageList[1],alt:"Room Image"},null,8,ue)]),e("div",null,[e("img",{class:"h-full w-full object-cover",src:t.imageList[2],alt:"Room Image"},null,8,me)]),e("div",null,[e("img",{class:"h-full w-full object-cover",src:t.imageList[3],alt:"Room Image"},null,8,pe)]),e("div",null,[e("img",{class:"h-full w-full object-cover",src:t.imageList[4],alt:"Room Image"},null,8,_e)])])])]))}}),E=F("modalStore",()=>{const a=q(!1);return{isModalOpen:a,openModal:()=>{a.value=!0},closeModal:()=>{a.value=!1}}});function he(){return typeof window<"u"}function ge(a){return he()&&a in window}function V({"min-width":a,min:t=a,max:o,raw:r}={}){return{min:t,max:o,raw:r}}function N(a,t=!0){return Array.isArray(a)?a.map(o=>{if(t&&Array.isArray(o))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof o=="string")return{name:o.toString(),values:[{min:o,max:void 0}]};let[r,i]=o;return r=r.toString(),typeof i=="string"?{name:r,values:[{min:i,max:void 0}]}:Array.isArray(i)?{name:r,values:i.map(u=>V(u))}:{name:r,values:[V(i)]}}):N(Object.entries(a??{}),!1)}function be(a){return a.map(t=>t.raw!==void 0?t.raw:[t.min&&`(min-width: ${t.min})`,t.max&&`(max-width: ${t.max})`].filter(Boolean).join(" and ")).join(", ")}var xe={xs:"0px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px"};const ve="$screens";function we(a){const t=K({screens:N(a||xe),queries:{},matches:{},hasSetup:!1});function o(){Object.entries(t.queries).forEach(([n,l])=>{t.matches[n]=l.matches})}function r(n){return k(()=>Object.keys(t.matches).filter(l=>t.matches[l]===!0&&n.hasOwnProperty(l)).map(l=>n[l]))}const i=k(()=>Object.keys(t.matches).filter(n=>t.matches[n]));function u(n,l){return k(()=>{const _=g.value;return _&&n.hasOwnProperty(_)?n[_]:l})}const g=k(()=>{const n=i.value;return n.length?n[n.length-1]:""});function b(){Object.values(t.queries).forEach(n=>n.removeEventListener("change",o)),t.queries={},t.matches={}}return!t.hasSetup&&ge("matchMedia")&&(b(),t.queries=t.screens.reduce((n,{name:l,values:_})=>{const f=window.matchMedia(be(_));return f.addEventListener("change",o),n[l]=f,n},{}),o(),t.hasSetup=!0),{matches:t.matches,list:i,mapList:r,current:g,mapCurrent:u,cleanup:b}}function $e(a,t){const o=we(a);return T((t==null?void 0:t.injectKey)||ve,o),Y(()=>o.cleanup()),o}const ye={key:0,class:"fixed top-0 left-0 w-full h-full bg-neutral-100/50 backdrop-blur-sm z-50"},Se={class:"container mx-auto h-full flex justify-center items-center"},ke={class:"w-full max-w-[740px]"},De={class:"bg-white border border-neutral-40 rounded-5 overflow-hidden z-10"},Me={class:"p-6 md:p-8 flex flex-col gap-10"},Re={class:"hidden md:flex md:items-center"},je={class:"w-5/12"},Le={class:"text-6 font-bold"},Ce={class:"text-neutral-80"},Pe={class:"w-7/12 flex gap-2"},Oe={class:"grow border border-neutral-100 rounded-2 p-4 font-500"},Ve=e("p",{class:"text-3"},"入住",-1),qe={class:"text-neutral-100"},Be={class:"grow border border-neutral-100 rounded-2 p-4 font-500"},Ie=e("p",{class:"text-3"},"退房",-1),Ae={class:"text-neutral-100"},Ee={class:"hidden md:flex justify-between md:justify-end gap-4"},Ne=["disabled"],Ue=y({__name:"BookingDatePick",setup(a){const t=A(),{reserveDate:o,reserveDateRange:r,nightNum:i,sameDate:u}=$(t),g=t.resetDate,b=t.setStorageDate,n=E(),{isModalOpen:l}=$(n),_=n.closeModal,{mapCurrent:f}=$e({xs:"0px",sm:"640px",md:"768px",lg:"1024px"}),M=q("gray"),R=f({md:2,lg:2},1),L=f({md:1,lg:1},2),d=f({md:"center",lg:"center"},"left");return(j,m)=>{const S=B("VDatePicker");return s(l)?(p(),x("div",ye,[e("div",Se,[e("div",ke,[e("div",De,[e("div",Me,[e("div",Re,[e("div",je,[e("p",Le,c(s(i))+" 晚",1),e("p",Ce,c(s(r).endDate)+" - "+c(s(r).startDate),1)]),e("div",Pe,[e("div",Oe,[Ve,e("p",qe,c(s(r).startDate),1)]),e("div",Be,[Ie,e("p",Ae,c(s(r).endDate),1)])])]),h(S,{modelValue:s(o),"onUpdate:modelValue":m[0]||(m[0]=v=>I(o)?o.value=v:null),modelModifiers:{range:!0},mode:"date",color:M.value,columns:s(R),rows:s(L),"title-position":s(d),masks:{title:"YYYY 年 MMM"},"min-date":new Date,expanded:"expanded",borderless:""},null,8,["modelValue","color","columns","rows","title-position","min-date"]),e("div",Ee,[e("button",{class:"btn hover:bg-neutral-40",onClick:m[1]||(m[1]=v=>s(g)())},"清除日期"),e("button",{class:"btn btn-primary",onClick:m[2]||(m[2]=v=>(s(_)(),s(b)())),disabled:s(u)},"確定日期",8,Ne)])])])])])])):D("",!0)}}}),ze={class:"flex flex-col gap-10"},Fe=e("h2",{class:"text-6 text-black font-bold pb-4 border-b border-neutral-40"},"預定房型",-1),Te={class:"text-10 font-bold text-black mb-2"},Ye={class:"font-500"},Ke={class:"grow border border-neutral-100 rounded-2 p-4 font-500"},Qe=e("p",{class:"text-3"},"入住",-1),He={class:"text-black"},Ge={class:"grow border border-neutral-100 rounded-2 p-4 font-500"},Je=e("p",{class:"text-3"},"退房",-1),We={class:"text-black"},Xe={class:"flex items-center"},Ze=e("p",{class:"font-bold"},"人數",-1),et={class:"ms-auto"},tt=["disabled"],st=["disabled"],ot={key:0,class:"text-alert-120 text-center"},nt={class:"text-6 text-primary-100 font-bold"},at=["disabled"],rt=y({__name:"ReserveRoom",props:["info"],setup(a){const t=a,o=A(),{reserveDateRange:r,sameDate:i,nightNum:u}=$(o),g=o.setStorageDate,b=se(),{peopleNum:n}=$(b),l=b.setStoragePeople,f=E().openModal,M=Q(),R=H();return(L,d)=>{var m,S,v,C;const j=B("font-awesome-icon");return p(),x("div",ze,[Fe,e("div",null,[e("p",Te,c(t.info.name),1),e("p",Ye,c(t.info.description),1)]),e("div",{class:"flex gap-3",onClick:d[0]||(d[0]=w=>s(f)())},[e("div",Ke,[Qe,e("p",He,c(s(r).startDate),1)]),e("div",Ge,[Je,e("p",We,c(s(r).endDate),1)])]),h(Ue),e("div",Xe,[Ze,e("div",et,[e("div",null,[e("button",{class:"group rounded-full w-[56px] aspect-square p-4 border border-neutral-40 hover:bg-primary-100 active:bg-primary disabled:bg-neutral-10",onClick:d[1]||(d[1]=w=>n.value--),disabled:s(n)===1},[h(j,{icon:"fa-solid fa-minus",class:"group-hover:text-white group-active:text-white group-disabled:text-black"})],8,tt),G(e("input",{type:"number","onUpdate:modelValue":d[2]||(d[2]=w=>I(n)?n.value=w:null),class:"w-[48px] mx-4 text-center text-5 bg-white",disabled:""},null,512),[[J,s(n)]]),e("button",{class:"group rounded-full w-[56px] aspect-square p-4 border border-neutral-40 hover:bg-primary-100 active:bg-primary disabled:bg-neutral-10",onClick:d[3]||(d[3]=w=>n.value++),disabled:s(n)===((m=t.info)==null?void 0:m.maxPeople)},[h(j,{icon:"fa-solid fa-plus",class:"group-hover:text-white group-active:text-white group-disabled:text-black"})],8,st)]),s(n)===((S=t.info)==null?void 0:S.maxPeople)?(p(),x("p",ot,"房間最多 "+c((v=t.info)==null?void 0:v.maxPeople)+" 人",1)):D("",!0)])]),e("div",nt,"NT$ "+c(s(u)*((C=t.info)==null?void 0:C.price)),1),e("button",{onClick:d[4]||(d[4]=w=>(s(l)(),s(g)(),s(R).push(`/booking/${s(M).params.id}`))),class:"btn btn-primary disabled:bg-neutral-40",disabled:s(i)},"立即預訂",8,at)])}}}),it={key:0,class:"bg-primary-10"},lt={"aria-label":"room-detail-banner"},ct={class:"lg:hidden"},dt={class:"max-w-[1860px] mx-auto hidden lg:block px-2 py-20"},ut={key:0},mt={class:"container mx-auto px-4 sm:px-0 py-10 lg:py-30"},pt={class:"lg:flex lg:content-between gap-18"},_t={class:"basis-full lg:basis-7/12"},ft={class:"flex flex-col gap-6 lg:gap-20"},ht={class:"text-8 lg:text-12 text-black font-bold mb-4"},gt={class:"text-3h lg:text-4 font-500"},bt={class:"hidden lg:block lg:basis-5/12 z-1"},xt={class:"sticky top-[120px] rounded-5 bg-white p-10"},Rt=y({__name:"RoomDetail",setup(a){const t=oe(),{roomDetail:o,roomLayout:r}=$(t),i=t.getFrontRoom;return W(()=>{i()}),(u,g)=>s(o)?(p(),x("main",it,[e("div",lt,[e("div",ct,[h(ae,{"image-list":s(o).imageUrlList},null,8,["image-list"])]),e("div",dt,[s(o).imageUrlList?(p(),x("div",ut,[h(fe,{"image-list":s(o).imageUrlList},null,8,["image-list"])])):D("",!0)])]),e("section",mt,[e("div",pt,[e("div",_t,[e("div",ft,[e("div",null,[e("h1",ht,c(s(o).name),1),e("p",gt,c(s(o).description),1)]),h(te,{info:s(o),layout:s(r)},null,8,["info","layout"])])]),e("div",bt,[e("div",xt,[h(rt,{info:s(o)},null,8,["info"])])])])])])):D("",!0)}});export{Rt as default};
