import{a as D,b as a,c,e as t,t as o,f as n,h as k,F as w,k as I,s as N,E as O,r as L,o as S,w as m,u as v,i as T,g as x}from"./index-uIhorUpP.js";import{_ as j}from"./RoomInfoProvide.vue_vue_type_script_setup_true_lang-A0UUszX3.js";import{_ as $}from"./_plugin-vue_export-helper-x3n3nnut.js";import{u as H}from"./orderStore--igTOB9w.js";import"./swal-MzZ19o4Z.js";const R={props:["order"],components:{RoomInfoProvide:j}},V={key:0,class:"flex flex-col gap-6 lg:gap-10"},B={class:"text-neutral-60 mb-2 text-3h lg:text-4"},F=t("h2",{class:"text-4 lg:text-6"},"即將來的行程",-1),M=["src"],C={class:"flex flex-col gap-6 text-3h lg:text-4 text-neutral-80 font-bold pb-6 border-b border-neutral-40"},P={class:"flex gap-4 lg:text-5"},U={class:"pe-4 border-r border-neutral-60"},A={class:"title-deco ps-4 mb-2"},E={class:"title-deco ps-4"},G=t("h3",{class:"title-deco text-3h lg:text-4 ps-4 mb-6"},"房內設備",-1),q=t("h3",{class:"title-deco text-3h lg:text-4 ps-4 mb-6"},"備品提供",-1),J=t("div",{class:"flex gap-3"},[t("button",{class:"grow btn btn-secondary"},"取消訂單"),t("button",{class:"grow btn btn-primary"},"查看訂單")],-1);function W(r,_,e,f,h,i){var d;const s=D("RoomInfoProvide");return a(),c("div",null,[e.order?(a(),c("div",V,[t("div",null,[t("p",B,"預定參考編號："+o(e.order._id),1),F]),t("img",{class:"h-[200px] w-full rounded-5 object-cover",src:(d=e.order)==null?void 0:d.roomId.imageUrl,alt:""},null,8,M),t("div",C,[t("div",P,[t("p",U,o(e.order.roomId.name)+"，"+o(r.$format.getNightNum(e.order.checkInDate,e.order.checkOutDate))+"晚",1),t("p",null,"住宿人數："+o(e.order.peopleNum)+" 位",1)]),t("div",null,[t("div",A,"入住："+o(r.$format.getTradDateSecondary(e.order.checkInDate))+"，15:00 可入住",1),t("div",E,"退房："+o(r.$format.getTradDateSecondary(e.order.checkOutDate))+"，12:00 前退房",1)]),t("div",null,"NT$ "+o(r.$format.toThousands(e.order.roomId.price)),1)]),t("div",null,[G,n(s,{info:e.order.roomId.amenityInfo},null,8,["info"])]),t("div",null,[q,n(s,{info:e.order.roomId.facilityInfo},null,8,["info"])]),J])):k("",!0)])}const Y=$(R,[["render",W]]),z={props:["orderList"]},K={class:"flex flex-col gap-6 lg:gap-10"},Q={class:"flex flex-col lg:flex-row gap-6"},X=["src"],Z={class:"flex flex-col gap-4 text-3h lg:text-4 grow"},tt={class:"text-4 lg:text-6 font-bold"},et={class:"mb-2"},st={class:"title-deco ps-4 mb-2"},ot={class:"title-deco ps-4"},lt={class:"font-bold"};function rt(r,_,e,f,h,i){return a(),c("ul",K,[(a(!0),c(w,null,I(e.orderList,s=>(a(),c("li",{class:"border-b border-neutral-40 pb-6",key:s._id},[t("div",Q,[t("img",{class:"h-[80px] w-[120px] object-cover object-center rounded-2",src:s.roomId.imageUrl,alt:""},null,8,X),t("div",Z,[t("p",null,"預定參考編號："+o(s._id),1),t("h3",tt,o(s.roomId.name),1),t("div",null,[t("p",et,"住宿天數："+o(r.$format.getNightNum(s.checkInDate,s.checkOutDate))+"晚",1),t("p",null,"住宿人數："+o(s.peopleNum)+"位",1)]),t("div",null,[t("p",st,"入住："+o(r.$format.getTradDateSecondary(s.checkInDate)),1),t("p",ot,"退房："+o(r.$format.getTradDateSecondary(s.checkOutDate)),1)]),t("p",lt,o(s.roomId.price*r.$format.getNightNum(s.checkInDate,s.checkOutDate)),1)])])]))),128))])}const y=$(z,[["render",rt]]),at=t("div",null,null,-1),ct={class:"bg-neutral-100"},nt=T('<div class="h-[206px] lg:h-[384px] relative"><img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1606744837616-56c9a5c6a6eb?q=80&amp;w=2835&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt=""><div class="absolute top-0 left-0 w-full h-full my-auto"><div class="container mx-auto h-full flex flex-col justify-center lg:flex-row lg:justify-start lg:items-center gap-4 lg:gap-6 px-4 sm:px-0 duration-300"><div class="w-[72px] h-[72px] lg:w-[144px] lg:h-[144px] rounded-full"></div><h1 class="text-white text-8 lg:text-12">Hello，Jessica</h1></div></div></div>',1),dt={class:"container mx-auto px-4 sm:px-0 py-10 lg:py-20"},it={class:"mb-10"},ut={class:"flex flex-col lg:flex-row gap-10"},_t={class:"basis-full lg:basis-7/12 bg-white rounded-[20px] p-4 lg:p-10 flex flex-col gap-6 lg:gap-10 h-fit duration-300"},ft={key:0,class:"flex flex-col justify-center items-center py-12"},ht=t("h2",{class:"mb-6 lg:mb-10 text-4 lg:text-6 me-auto"},"即將來的行程",-1),pt=t("p",{class:"text-primary-100 lg:text-6 font-bold mb-6"},"尚未有即將到來的訂單",-1),mt={key:1},xt={class:"basis-full lg:basis-5/12 bg-white rounded-[20px] p-4 lg:p-10 flex flex-col gap-6 lg:gap-10 h-fit duration-300"},gt=t("h2",{class:"text-4 lg:text-5"},"歷史訂單",-1),bt={key:0,class:"flex flex-col justify-center items-center py-12"},vt=t("p",{class:"text-primary-100 lg:text-6 font-bold"},"尚未有歷史記錄",-1),yt=[vt],Dt={key:1},wt=t("button",{class:"btn btn-secondary mt-10 w-full"},"查看更多",-1),Lt={__name:"UserOrders",setup(r){const _=H(),{orderList:e}=N(_),f=_.getFrontOrders,h=O(()=>{const d=new Date().setHours(15,0,0,0);return e.value.filter(l=>l.status===0).filter(l=>new Date(l.checkInDate).getTime()<d).sort((l,p)=>new Date(l.checkInDate)-new Date(p.checkInDate))}),i=L([]),s=()=>{const d=new Date().setHours(15,0,0,0),b=e.value.filter(l=>l.status===0).filter(l=>new Date(l.checkInDate).getTime()>d).sort((l,p)=>new Date(l.checkInDate)-new Date(p.checkInDate));i.value=b,console.log("測試取得訂單",i.value)};return S(async()=>{await f(),s()}),(d,g)=>{const u=D("router-link");return a(),c(w,null,[at,t("div",ct,[nt,t("div",dt,[t("div",it,[n(u,{to:"/user",class:"py-4 px-6 text-white"},{default:m(()=>[x("個人資料")]),_:1}),n(u,{to:"/user-order",class:"py-4 px-6 text-white"},{default:m(()=>[x("我的訂單")]),_:1})]),t("div",ut,[t("div",_t,[v(e)?(a(),c("div",mt,[n(Y,{order:i.value[0]},null,8,["order"])])):(a(),c("div",ft,[ht,pt,n(u,{to:"/room",class:"btn btn-primary"},{default:m(()=>[x("訂房去")]),_:1})]))]),t("div",xt,[gt,v(e)?(a(),c("div",Dt,[n(y,{"order-list":i.value},null,8,["order-list"]),n(y,{class:"text-neutral-60 mt-6 lg:mt-10","order-list":h.value},null,8,["order-list"]),wt])):(a(),c("div",bt,yt))])])])])],64)}}};export{Lt as default};
