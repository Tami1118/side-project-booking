import{d as V,s as U,c as p,e as h,f as e,t as x,j as s,n as u,C as g,D as y,A as D,F as N,o as C,b as v,p as F,h as $,g as d,k as w,i as I,l as S}from"./index-wIY0i8YO.js";import{u as k}from"./userStore-2EhaLznF.js";import{_ as B,a as E}from"./CitySelect.vue_vue_type_script_setup_true_lang-40_iHfpC.js";import"./swal-MzZ19o4Z.js";import"./taiwanCities-y_p8gqPp.js";const j={class:"flex flex-col gap-6"},A=e("p",{class:"font-500 mb-2 text-neutral-80"},"電子信箱",-1),q={class:"font-bold"},H=e("div",{class:"grow"},[e("p",{class:"font-500 mb-2 text-neutral-80"},"密碼"),e("input",{type:"password",class:"block font-bold",value:"12345678"})],-1),T=e("label",{for:"oldPassword",class:"mb-2 text-neutral-80 font-bold"},"舊密碼",-1),G=e("label",{for:"newPassword",class:"mb-2 text-neutral-80 font-bold"},"新密碼",-1),R=e("label",{for:"checkNewPassword",class:"mb-2 text-neutral-80 font-bold"},"確認新密碼",-1),z=V({__name:"UserAccount",setup(P){const c=k(),{userInfo:l,editUserData:t,newPassword2:i,showEditPassword:r}=U(c),f=c.editUserPass,m=()=>{t.value.userId=l.value._id,t.value.name=l.value.name,t.value.phone=l.value.phone,t.value.birthday=l.value.birthday,t.value.address=l.value.address};return(a,o)=>(p(),h(N,null,[e("div",j,[e("div",null,[A,e("p",q,x(s(l).email),1)]),e("div",{class:u(["flex",{hidden:s(r)}])},[H,e("button",{class:u(["text-primary-100 underline",{hidden:s(r)}]),onClick:o[0]||(o[0]=n=>(r.value=!0,m()))}," 重設 ",2)],2),e("div",{class:u({hidden:!s(r)})},[T,g(e("input",{type:"password",id:"oldPassword",class:"form-input",placeholder:"請輸入舊密碼","onUpdate:modelValue":o[1]||(o[1]=n=>s(t).oldPassword=n)},null,512),[[y,s(t).oldPassword]])],2),e("div",{class:u({hidden:!s(r)})},[G,g(e("input",{type:"password",id:"newPassword",class:"form-input",placeholder:"請輸入新密碼","onUpdate:modelValue":o[2]||(o[2]=n=>s(t).newPassword=n)},null,512),[[y,s(t).newPassword]])],2),e("div",{class:u({hidden:!s(r)})},[R,g(e("input",{type:"password",id:"checkNewPassword",class:"form-input",placeholder:"請再輸入一次新密碼","onUpdate:modelValue":o[3]||(o[3]=n=>D(i)?i.value=n:null)},null,512),[[y,s(i)]])],2)]),e("div",{class:u({hidden:!s(r)})},[e("button",{class:"btn bg-neutral-40 text-neutral-60 w-full lg:w-fit",onClick:o[4]||(o[4]=n=>s(f)())}," 儲存設定 ")],2)],64))}}),J={class:"flex flex-col gap-4"},W={class:"flex flex-col gap-2"},Y=e("label",{for:"user-name",class:"font-bold"},"姓名",-1),K={class:"flex flex-col gap-2"},L=e("label",{for:"user-phone",class:"font-bold"},"手機號碼",-1),O={key:0},Q=e("button",{type:"submit",class:"btn bg-neutral-40 text-neutral-60 w-full lg:w-fit mt-3"}," 儲存設定 ",-1),X=[Q],Z=V({__name:"UserForm",setup(P){const c=k(),{userInfo:l,editUserData:t,detailedAddress:i,showEditUserInfo:r}=U(c),f=c.editUserInfo;return C(()=>{console.log("userInfo",l.value),t.value.userId=l.value._id,t.value.name=l.value.name,t.value.phone=l.value.phone,t.value.birthday=l.value.birthday,t.value.address=l.value.address,console.log(t.value)}),(m,a)=>{const o=v("VField"),n=v("ErrorMessage"),M=v("VForm");return p(),F(M,{onSubmit:a[3]||(a[3]=b=>s(f)())},{default:$(({errors:b})=>[e("div",J,[e("div",W,[Y,d(o,{name:"姓名",type:"text",id:"user-name",rules:"required|min:2",class:u(["p-4 rounded-2 form-input",{"border border-red-600":b.姓名}]),placeholder:"請輸入姓名",modelValue:s(t).name,"onUpdate:modelValue":a[0]||(a[0]=_=>s(t).name=_)},null,8,["class","modelValue"]),d(n,{class:"text-red-600",name:"姓名"})]),e("div",K,[L,d(o,{name:"手機號碼",type:"phone",id:"user-phone",rules:"required|numeric|min:10|mobile",class:u(["p-4 rounded-2 form-input",{"border border-red-600":b.手機號碼}]),placeholder:"請輸入手機號碼",modelValue:s(t).phone,"onUpdate:modelValue":a[1]||(a[1]=_=>s(t).phone=_)},null,8,["class","modelValue"]),d(n,{class:"text-red-600",name:"手機號碼"})]),d(B),d(E),d(o,{name:"詳細地址",type:"text",rules:"required",modelValue:s(i),"onUpdate:modelValue":a[2]||(a[2]=_=>D(i)?i.value=_:null),class:u(["form-input mt-1 block w-full",{"border border-red-600":b.詳細地址}]),placeholder:"請輸入詳細地址"},null,8,["modelValue","class"]),d(n,{class:"text-red-600",name:"詳細地址"})]),s(r)?(p(),h("div",O,X)):w("",!0)]),_:1})}}}),ee={class:"bg-neutral-100"},se=S('<div class="h-[206px] lg:h-[384px] relative"><img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1606744837616-56c9a5c6a6eb?q=80&amp;w=2835&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt=""><div class="absolute top-0 left-0 w-full h-full my-auto"><div class="container mx-auto h-full flex flex-col justify-center lg:flex-row lg:justify-start lg:items-center gap-4 lg:gap-6 px-4 sm:px-0 duration-300"><div class="w-[72px] h-[72px] lg:w-[144px] lg:h-[144px] rounded-full"></div><h1 class="text-white text-8 lg:text-12">Hello，Jessica</h1></div></div></div>',1),te={class:"container mx-auto px-4 sm:px-0 py-10 lg:py-20"},le={class:"mb-10"},oe={class:"flex flex-col lg:flex-row gap-10"},ae={class:"basis-full lg:basis-5/12 bg-white rounded-[20px] p-4 lg:p-10 flex flex-col gap-6 lg:gap-10 h-fit duration-300"},ne=e("h2",{class:"text-5 lg:text-6"}," 修改密碼 ",-1),de={class:"basis-full lg:basis-7/12 bg-white rounded-[20px] p-4 lg:p-10 flex flex-col gap-6 lg:gap-10 h-fit duration-300"},re=e("h2",{class:"text-5 lg:text-6"},"基本資料",-1),ie={key:1,class:"flex flex-col gap-6"},ue=e("p",{class:"font-500 mb-2 text-neutral-80"},"姓名",-1),ce={class:"font-bold"},pe=e("p",{class:"font-500 mb-2 text-neutral-80"},"手機號碼",-1),fe={class:"font-bold"},me=e("p",{class:"font-500 mb-2 text-neutral-80"},"生日",-1),_e={class:"font-bold"},xe=e("p",{class:"font-500 mb-2 text-neutral-80"},"地址",-1),he={class:"font-bold"},be={key:2},Ve=V({__name:"UserInfo",setup(P){const c=k(),{userInfo:l,showEditUserInfo:t}=U(c),i=c.getUser;return C(()=>{i()}),(r,f)=>{var a,o;const m=v("router-link");return p(),h("div",ee,[se,e("div",te,[e("div",le,[d(m,{to:"/user",class:"py-4 px-6 text-white"},{default:$(()=>[I("個人資料")]),_:1}),d(m,{to:"/user-order",class:"py-4 px-6 text-white"},{default:$(()=>[I("我的訂單")]),_:1})]),e("div",oe,[e("div",ae,[ne,d(z)]),e("div",de,[re,s(t)?(p(),F(Z,{key:0})):w("",!0),s(t)?w("",!0):(p(),h("div",ie,[e("div",null,[ue,e("p",ce,x(s(l).name),1)]),e("div",null,[pe,e("p",fe,x(s(l).phone),1)]),e("div",null,[me,e("p",_e,x((a=s(l).birthday)==null?void 0:a.replace(/^(\d{4})-(\d{2})-(\d{2})T.*$/,"$1/$2/$3")),1)]),e("div",null,[xe,e("p",he,x((o=s(l).address)==null?void 0:o.detail),1)])])),s(t)?w("",!0):(p(),h("div",be,[e("button",{class:"btn btn-secondary border border-primary-100 w-fit",onClick:f[0]||(f[0]=n=>t.value=!0)},"編輯")]))])])])])}}});export{Ve as default};
