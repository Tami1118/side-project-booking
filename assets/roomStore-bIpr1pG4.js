import{q as F,u as x,r as e}from"./index-srPLUe_8.js";import{a as t,T as d,A as m}from"./userApi-u09h4eQQ.js";const L=F("roomStore",()=>{const R=x(),g=e("create"),P=e([{title:"市景",isProvide:!0},{title:"獨立衛浴",isProvide:!0},{title:"客廳",isProvide:!0},{title:"書房",isProvide:!0},{title:"樓層電梯",isProvide:!0}]),f=e(["一張大床","兩張大床","三張大床"]),v={name:"",description:"",imageUrl:"",imageUrlList:[],areaInfo:"",bedInfo:"",maxPeople:0,price:0,facilityInfo:[{title:"平面電視",isProvide:!0},{title:"吹風機",isProvide:!0},{title:"冰箱",isProvide:!0},{title:"熱水壺",isProvide:!0},{title:"檯燈",isProvide:!0},{title:"衣櫃",isProvide:!0},{title:"除濕機",isProvide:!0},{title:"浴缸",isProvide:!0},{title:"書桌",isProvide:!0},{title:"音響",isProvide:!0}],amenityInfo:[{title:"衛生紙",isProvide:!0},{title:"拖鞋",isProvide:!0},{title:"沐浴用品",isProvide:!0},{title:"清潔用品",isProvide:!0},{title:"刮鬍刀",isProvide:!0},{title:"吊衣架",isProvide:!0},{title:"浴巾",isProvide:!0},{title:"刷牙用品",isProvide:!0},{title:"罐裝水",isProvide:!0},{title:"梳子",isProvide:!0}]},r=e(null),p=async()=>{try{console.log("getFrontRooms 取得資料",r.value);const o=await t.get("/rooms");console.log(o),r.value=o.data.result}catch(o){console.log("getFrontRooms 失敗",o)}},n=e(null),y=async()=>{try{console.log("getFrontRoom 取得資料",n.value);const o=await t.get(`/rooms/${R.params.id}`);n.value=o.data.result}catch(o){console.log("getFrontRoom 失敗",o)}},l=e(JSON.parse(JSON.stringify(v))),s=()=>{l.value=JSON.parse(JSON.stringify(v))},a=async()=>{try{const o=await t.get("/admin/rooms/");r.value=o.data.result,console.log("getRooms 成功取得資料",r.value)}catch(o){console.log("getRooms 失敗",o)}},M=async()=>{try{const o=await t.post("/admin/rooms/",l.value);console.log("createRoom 已新增房型",o),d.fire({icon:"success",title:"成功新增房型"}),s(),a()}catch(o){console.log("createRoom 失敗",o),m.fire({icon:"errors",title:"房型新增失敗",text:"格式有誤，請稍後再試一次"})}},c=e(""),h=async()=>{console.log("editRoom",c.value);try{const o=await t.put(`/admin/rooms/${c.value}`,l.value);console.log("editRoomId 已更新房型",o),s(),d.fire({icon:"success",title:"更新成功"}),a()}catch(o){console.log("editRoomId 失敗",o),m.fire({icon:"error",title:"更新失敗",text:"請稍後再試一次"})}},I=()=>{try{const o=t.delete(`/admin/rooms/${c.value}`);console.log("deleteRoom 已刪除房型",o),d.fire({icon:"success",title:"成功刪除房型"}),a()}catch(o){console.log("deleteRoom 失敗",o),m.fire({title:"刪除失敗，請稍後再試一次",icon:"error"})}},i=e(!1),w=()=>{i.value=!0},S=()=>{i.value=!1,s()},D=()=>{i.value=!i.value},u=e(!1);return{roomLayout:P,bedType:f,tempRoom:l,resetTempRoom:s,roomList:r,getRooms:a,createRoom:M,updateRoomType:g,editRoomId:c,editRoom:h,deleteRoom:I,getFrontRooms:p,roomDetail:n,getFrontRoom:y,showRoomModal:i,openRoomModal:w,closeRoomModal:S,toggleModal:D,showDelModal:u,openRoomDelModal:()=>{u.value=!0},closeRoomDelModal:()=>{u.value=!1,s()}}});export{L as u};
